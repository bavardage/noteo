# Contributor: Ben Duffield <jebavarde<AT>gmail.com>
pkgname=noteo
pkgver=0.1.1
pkgrel=1
arch=("i686" "x86_64")
pkgdesc="A notifications system"
url="http://code.google.com/p/noteo/"
license=("GPL")
depends=("pygtk" "python-configobj")
optdepends=('xmms2: xmms monitoring'
            'mpd: mpd monitoring'
            'libgmail: gmail checking'
            'libnotify: libnotify support')
provides=("notification-daemon")
replaces=("noteo-notify" "noteo-awesome" "noteo-batterystatus" "noteo-gmailcheck" "noteo-mpd" "noteo-pacmanstatus" "noteo-output-macopix<=0.0.6")
conflicts=("noteo-notify" "noteo-awesome" "noteo-batterystatus" "noteo-gmailcheck" "noteo-mpd" "noteo-pacmanstatus" "noteo-output-macopix<=0.0.6")
source=("http://noteo.googlecode.com/files/${pkgname}-${pkgver}.tar.gz")
md5sums=('01e53ddf2c97b4e8082570d0a9450b5a')

build() {
	cd $startdir/src/src/
	_site_packages_dir=$(python -c "import distutils.sysconfig; print distutils.sysconfig.get_python_lib();")
	
	mkdir -p $startdir/pkg${_site_packages_dir}
	mkdir -p $startdir/pkg/usr/bin
	mkdir -p $startdir/pkg/usr/share/noteo
	mkdir -p $startdir/pkg/usr/share/pixmaps
	
	mv noteo $startdir/pkg/usr/bin
	mv Noteo.p* $startdir/pkg${_site_packages_dir}
	mv modules $startdir/pkg/usr/share/noteo
	mv noteo.png $startdir/pkg/usr/share/pixmaps

}
